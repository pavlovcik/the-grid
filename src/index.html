<!doctype html>
<html>
  <head>
    <script>
      new EventSource("/esbuild").addEventListener("change", e => {
        const { added, removed, updated } = JSON.parse(e.data);

        if (!added.length && !removed.length && updated.length === 1) {
          for (const link of document.getElementsByTagName("link")) {
            const url = new URL(link.href);

            if (url.host === location.host && url.pathname === updated[0]) {
              const next = link.cloneNode();
              next.href = updated[0] + "?" + Math.random().toString(36).slice(2);
              next.onload = () => link.remove();
              link.parentNode.insertBefore(next, link.nextSibling);
              return;
            }
          }
        }

        location.reload();
      });
    </script>

    <title>WebGL Shader Example</title>
    <link rel="stylesheet" href="styles/the-grid.css" />
  </head>
  <body>
    <div id="GRID"></div>
    <main id="card">
      <figure id="emv">
        <svg viewBox="0 0 60 44" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M39.848 -0.0498364L30.4151 8.73566L20.9823 -0.096077L20.2193 0.620638L29.8602 9.66045V14.5387H21.1441H20.0575L-3.91766 14.4925V15.5097L20.0575 15.556V29.8209L-3.91766 29.7746V30.7919L20.0575 30.8381H21.1441H29.8602V35.7164L20.2193 44.7331L20.9823 45.4498L30.4151 36.6643L39.848 45.496L40.6109 44.7793L30.97 35.7395V30.8612H39.6861H40.7728L64.7479 30.9075V29.8902L40.7728 29.844V15.5791L64.7479 15.6253V14.6081L40.2179 14.5618C39.9173 14.5618 39.663 14.793 39.663 15.0705V29.844H30.392L21.121 29.7977V15.5329H30.392C30.6926 15.5329 30.9469 15.3248 30.9469 15.0473V9.66045L40.5878 0.643754L39.8248 -0.0729523L39.848 -0.0498364Z"
            fill="#18191B"
          ></path>
        </svg>
      </figure>
    </main>

    <script src="scripts/the-grid.js"></script>
  </body>
</html>
